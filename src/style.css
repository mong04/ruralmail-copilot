@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

@theme {
  /* Semantic Color Mapping */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  
  --color-surface: var(--surface);
  --color-surface-foreground: var(--surface-foreground);
  --color-surface-muted: var(--surface-muted);
  
  --color-brand: var(--brand);
  --color-brand-foreground: var(--brand-foreground);
  
  --color-border: var(--border);
  
  /* Status Tokens */
  --color-success: var(--success);
  --color-warning: var(--warning);
  --color-danger: var(--danger);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-danger-foreground: var(--danger-foreground);

  /* Radii */
  --radius-xl: 0.75rem;
  --radius-lg: 0.5rem;
  --radius-md: 0.375rem;
}

/* --- 1. DEFAULT THEME (Light / Paper) --- */
:root {
  --background: hsl(210 20% 98%);
  --foreground: hsl(222 20% 14%);
  
  --surface: hsl(0 0% 100%);
  --surface-foreground: hsl(222 20% 14%);
  /* Muted Surface: Light Grey for Inputs */
  --surface-muted: hsl(210 20% 96%); 
  
  --brand: hsl(221 83% 53%);
  --brand-foreground: hsl(210 40% 98%);
  
  --border: hsl(220 13% 91%);
  
  --success: hsl(142 76% 36%);
  --warning: hsl(38 92% 50%);
  --danger: hsl(0 84% 60%);
  --danger-foreground: hsl(210 40% 98%);
  
  --muted: hsl(215 16% 47%);
  --muted-foreground: hsl(215 16% 57%);
  
  --accent: hsl(210 20% 96%);
  --accent-foreground: hsl(222 20% 14%);

  --radius-xl: 0.75rem;
  --radius-lg: 0.5rem;
  --radius-md: 0.25rem;
}

/* --- 2. DARK THEME (Slate) --- */
.dark {
  --background: hsl(222 47% 11%);
  --foreground: hsl(210 40% 98%);
  --surface: hsl(217 33% 17%);
  --surface-foreground: hsl(210 40% 98%);
  --surface-muted: hsl(217 33% 20%);
  --brand: hsl(217 91% 60%);
  --brand-foreground: hsl(0 0% 100%);
  --border: hsl(217 33% 25%);
  --success: hsl(142 60% 55%);
  --warning: hsl(35 85% 62%);
  --danger: hsl(0 72% 51%);
  --danger-foreground: hsl(0 0% 100%);
  --muted: hsl(220 10% 70%);
  --muted-foreground: hsl(220 10% 80%);
  --accent: hsl(217 33% 20%);
  --accent-foreground: hsl(210 40% 98%);
}

/* --- 3. CYBERPUNK THEME (Void / Neon) --- */
[data-theme="cyberpunk"] {
  /* Deep Void Background */
  --background: #0a0014; 
  --foreground: #e0faff; /* Ice White Text */
  
  /* Surface: Semi-transparent black for cards */
  --surface: rgba(15, 0, 35, 0.6); 
  --surface-foreground: #e0faff;
  
  /* Surface Muted: THE FIX - Deep Black/Cyan tint for Inputs */
  --surface-muted: rgba(0, 0, 0, 0.6); 
  
  /* High-Contrast Neon */
  --brand: #00f0ff; 
  --brand-foreground: #000000; /* Text on brand buttons is black */
  
  /* Borders: Dim Cyan */
  --border: rgba(0, 240, 255, 0.3);
  
  --success: #0aff60;
  --warning: #fcee0a;
  --danger: #ff003c;
  --danger-foreground: #fff;

  --muted: rgba(0, 240, 255, 0.4);
  --muted-foreground: rgba(0, 240, 255, 0.7);
  
  --accent: #2d0046;
  --accent-foreground: #d600ff;
  
  /* Sharp Tech Geometry */
  --radius-xl: 0.25rem; 
  --radius-lg: 0.125rem;
  --radius-md: 0rem;
}

/* --- UTILITIES --- */
:root {
  --bottom-nav-height: calc(72px + env(safe-area-inset-bottom, 0px));
  --header-height: calc(64px + env(safe-area-inset-top, 0px));
  
  /* Transparent Tints for badges */
  --brand-10: color-mix(in srgb, var(--brand) 10%, transparent);
  --danger-10: color-mix(in srgb, var(--danger) 10%, transparent);
  --warning-10: color-mix(in srgb, var(--warning) 10%, transparent);
  --success-10: color-mix(in srgb, var(--success) 10%, transparent);
}

/* [data-theme="cyberpunk"] canvas {
  z-index: 10 !important;
} */

html, body, #root { height: 100%; }

/* Navigation Bar Adaptation */
[data-theme="cyberpunk"] nav,
[data-theme="cyberpunk"] header {
  background-color: rgba(10, 0, 20, 0.85) !important;
  backdrop-filter: blur(12px);
  border-color: var(--border);
}

/* Grid Pattern Utility */
.bg-grid-pattern {
  background-size: 20px 20px;
  background-image: 
    linear-gradient(to right, var(--border) 1px, transparent 1px),
    linear-gradient(to bottom, var(--border) 1px, transparent 1px);
  mask-image: linear-gradient(to bottom, black 60%, transparent 100%);
}

/* Floating Action Button Offset */
.fab-offset { padding-bottom: calc(var(--bottom-nav-height) + 16px); }